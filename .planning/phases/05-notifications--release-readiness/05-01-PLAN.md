---
phase: 05-notifications--release-readiness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - lib/notifications.ts
  - lib/storage.ts
  - app/(tabs)/settings.tsx
  - types/index.ts
  - __tests__/lib/storage.test.ts
  - app/_layout.tsx

autonomous: true
must_haves:
  truths:
    - "Users can opt into weekly summary reminders"
    - "Weekly reminders respect local time and can be disabled"
  artifacts:
    - path: "lib/notifications.ts"
      provides: "Weekly reminder scheduling"
    - path: "app/(tabs)/settings.tsx"
      provides: "Weekly reminder toggle"
  key_links:
    - from: "app/(tabs)/settings.tsx"
      to: "lib/notifications.ts"
      via: "scheduleWeeklyReminder"
      pattern: "weekly"
---

<objective>
Add weekly summary reminder scheduling and settings controls.

Purpose: deliver weekly review nudges to drive engagement.
Output: weekly reminder scheduler + UI toggle.
</objective>

<execution_context>
@/Users/richardyu/.claude/get-shit-done/workflows/execute-plan.md
@/Users/richardyu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-notifications--release-readiness/05-RESEARCH.md

@lib/notifications.ts
@lib/storage.ts
@app/(tabs)/settings.tsx
@types/index.ts
</context>

<tasks>

<task type="auto">
  <name>Add weekly reminder setting + defaults</name>
  <files>types/index.ts, lib/storage.ts, __tests__/lib/storage.test.ts</files>
  <action>
    - Add settings fields for weeklyReminderEnabled and weeklyReminderDay/time.
    - Extend defaults to include weekly reminder settings.
    - Add storage test coverage for defaults.
  </action>
  <verify>
    - Settings defaults include weekly reminder config.
  </verify>
  <done>
    - Settings can store weekly reminder preferences.
  </done>
</task>

<task type="auto">
  <name>Schedule weekly reminders</name>
  <files>lib/notifications.ts</files>
  <action>
    - Add scheduleWeeklyReminder(day, time) and cancelWeeklyReminder helpers.
    - Use Expo Notifications schedule trigger for weekly cadence.
  </action>
  <verify>
    - Helpers schedule/cancel notifications without errors.
  </verify>
  <done>
    - Weekly notifications can be scheduled.
  </done>
</task>

<task type="auto">
  <name>Expose weekly reminder toggle in settings</name>
  <files>app/(tabs)/settings.tsx</files>
  <action>
    - Add UI toggle for weekly summary reminders.
    - Add day/time selector (can reuse existing time options and a weekday selector).
    - Wire toggle to schedule/cancel weekly reminders.
  </action>
  <verify>
    - Toggle updates reminder settings and triggers schedule/cancel.
  </verify>
  <done>
    - Weekly reminder is configurable from Settings.
  </done>
</task>

</tasks>

<verification>
- Weekly reminder toggle schedules notifications and persists settings.
</verification>

<success_criteria>
- Weekly summary reminder is available and optâ€‘in.
</success_criteria>

<output>
After completion, create `.planning/phases/05-notifications--release-readiness/05-01-SUMMARY.md`
</output>
